\ProvidesPackage{projectpackage5.1}

% -------------------------------
% ProjectPackage v5.1
% -------------------------------

% Créateur : Simon Lizotte

% Contributeurs principaux :
%   Jordan "JoChat" Charest
%   Marc-Antoine "-" Plourde
%   Yannick "Yalap" Lapointe

% Disclaimer:
% L'équipe du Project Package se positionne fermement contre les commandes alternatives pour raccourcir les commandes de lettres grecques.

% Note aux futurs contributeurs:
%   Tous les contributeurs sont les bienvenus, mais si vous ajoutez une commande, veuillez l'indiquer dans l'update log s'il vous plaît pour qu'on puisse avoir un suivi des modifications.


% -------------------------------
% Packages utiles
% -------------------------------

\usepackage[left=2.5cm,right=2.5cm,top=4cm,bottom=3.1cm]{geometry}
\usepackage{cmap} % Facilite recherche de texte Ctrl+F
\usepackage[french]{babel} % Écriture en français
\usepackage[utf8]{inputenc} % Encodage
\usepackage[T1]{fontenc} % Encodage, facilite Ctrl+F
\frenchbsetup{StandardLists=true} % Compatibilité enumitem
\usepackage{tcolorbox}
\usepackage{fvextra} % pour éviter des messages d'erreur de csquotes
\usepackage{csquotes} % pour éviter des messages d'erreur de babel
\usepackage[hyperref=true, sorting=nty]{biblatex} % Gestion de références, voir https://www.overleaf.com/learn/latex/Articles/Getting_started_with_BibLaTeX
\usepackage{ifthen}
\usepackage{xparse}

% Core
\usepackage{fancyhdr} % En-tête et pagination
\usepackage{hyperref} % Liens cliquables dans PDF
\usepackage{booktabs,multirow,multicol,hhline,array} % Tableaux
\usepackage{tabularx} % pour faire des tableaux en spécifiant l'espace total occupé
\usepackage[flushleft]{threeparttable} % Tableaux à Claudine Allen
\usepackage[compact]{titlesec} % Mise en forme des titres de section
\usepackage{color,soul} % Couleur et formattage de texte
\usepackage{xcolor} % Plus de couleurs
\usepackage{xspace} % pour avoir différents sets d'espaces (utile pour faire les commandes \og et \fg pour les guillemets français)
\usepackage{enumitem} % Listes a) b) c)
\usepackage{ulem} % \ul pour souligner
\usepackage[safe]{tipa}
\usepackage{glossaries} % pour faire un énorme glossaire (genre dans les rapports de pisse du SPLA)

% Math
\usepackage{amsmath,amssymb,amsthm,mathtools,nicefrac,array,units,dsfont} % Symboles et polices mathématiques
\usepackage[noabbrev,nameinlink]{cleveref}
\usepackage{nccmath} % commandes de formatage d'équations
\usepackage{mathrsfs} % Lettres cursives
\usepackage{wasysym,marvosym,gensymb,textcomp} % Symboles divers
\usepackage[makeroom]{cancel} % Barre oblique d'annulation
\usepackage{calligra}
\usepackage[intlimits]{esint}
\usepackage{icomma}

% Physique
\usepackage{verbatim} % Texte brut pour code informatique
% \usepackage{fancyvrb} % pour du verbatim à travers du texte (voir update log 4.2)
\usepackage[locale=FR]{siunitx} % Unités SI, ex.: \SI{2.9(1)e6}{\kilo\meter\per\second}
\usepackage[version=4]{mhchem} % Équations nucléaires, ex.: \ce{^227_90Th+}
\usepackage{svrsymbols} % Symboles particules atomiques
\usepackage{physics} % Your new best friend, voir manuel : http://ctan.math.ca/tex-archive/macros/latex/contrib/physics/physics.pdf
\usepackage{dsfont}
\usepackage{xstring}
\sisetup{detect-weight=true,detect-family=true,separate-uncertainty=true} % Config siunitx
    % barre oblique au lieu de ^{-1} : \SI[per-mode=symbol]{1}{\meter\per\second}
% \sisetup{output-decimal-marker={,}} % config siunitx pour mettre des virgules sans espace dans les nombres décimaux (ex. \num{3.141592653589793} = )
% Figures et graphiques
\usepackage{graphicx,floatrow,framed} % Figures et cadres
\usepackage{subfigure,wrapfig,caption} % Sous-figures et légendes
\usepackage{pgfplots,tikz} % Dessins et graphiques
\usepackage[american]{circuitikz} % Dessin de circuits
\usepgfplotslibrary{groupplots} % Subplots
\usetikzlibrary{babel,arrows} % Compatibilité français, dessin de flèches
\pgfplotsset{compat=1.15} % Pour éviter bugs de mises à jour
\usepackage{minted} % Environnement pour mettre du code


% -------------------------------
% Constantes fréquentes
% -------------------------------

% Constantes Djodjo

\newcommand{\hc}{6,626\times10^{-34}}       % Constante de Planck
\newcommand{\hbc}{1,055\times10^{-34}}      % Constante de Planck réduite
\newcommand{\hevc}{4,136\times10^{-15}}     % Constante de Plank en eV
\newcommand{\hbevc}{6,582\times10^{-16}}    % Constante de Plank réduite en eV
\newcommand{\cc}{2,998\times10^8}           % Vitesse de la lumière
\newcommand{\kc}{1,381\times10^{-23}}       % Constante de Boltzmann
\newcommand{\wc}{2,898\times10^{-3}}        % Constante de Wien
\newcommand{\ec}{1,602\times10^{-19}}       % Charge élémentaire
\newcommand{\mec}{9,109\times10^{-31}}      % Masse de l'électron
\newcommand{\sbc}{5,670\times10^{-8}}       % Constante de Stefan-Boltzmann
\newcommand{\prmtvtc}{8,854\times10^{-12}}  % Permittivité du vide (epsilon 0)
\newcommand{\prmbltc}{1,257\times10^{-6}}   % Perméabilité du vide (mu 0)
\newcommand{\sfc}{7,297\times10^{-3}}       % Constante de structure fine
\newcommand{\rc}{8,3145}                    % Constante des gaz parfaits [J / mol K]
\newcommand{\gc}{6,674\times10^{-11}}       % Constante gravitationnelle

% Constantes Trait (avec les unités)

\newcommand{\veps}{8,854 \times 10^{-12} \text{ F/m}}                   % Permittivité du vide
\newcommand{\vc}{2,998 \times 10^{8}\text{ m/s}}                        % c
\newcommand{\vemasse}{9,109 \times 10^{-31}\text{ kg}}                  % Masse électron
\newcommand{\vecharge}{1,602 \times 10^{-19}\text{ C}}                  % Charge électron
\newcommand{\vh}{6,626 \times 10^{-34}\text{ J s}}                      % Constante de Planck (J s)
\newcommand{\vheV}{4,136 \times 10^{-15}\text{ eV s}}                   % Constante de planck en eV s
\newcommand{\vhbar}{1,055 \times  10^{-34} \text{ J s}}                 % Valeur de hbar (J s)
\newcommand{\vhbareV}{6,582 \times 10^{-16} \text{ eV s}}               % Valeur de hbar en eV s
\newcommand{\vmu}{1,257\times 10^{-6} \text{ kg m/A}^{2}\text{s}^2}     % Perméabilité du vide
\newcommand{\vG}{6,674 \times 10^{-11}\text{ m}^3\text{/kg s}^2}        % Valeur de G
\newcommand{\vg}{9,807 \text{ m/s}^2}                                   % Accélération de la pesanteur terrestre
\newcommand{\vr}{8,314\text{ J/K mol}}                                  % Constante des gaz parfaits
\newcommand{\vstef}{5,670 \times 10^{-8} \text{ W/m}^2\text{K}^4}       % constante de Stefan-Boltzmann
\newcommand{\vwien}{2,898\times 10^{-3}\text{ m K}}                     % Constante de Wien
\newcommand{\vk}{1,381\times 10^{-23}\text{ m}^2 \text{kg/s}^2 \text{K}}% Constante de Boltzmann

% -------------------------------
% Commandes custom
% -------------------------------

\newminted{python}{
frame=lines,
framesep=2mm,
baselinestretch=1.2,
fontsize=\footnotesize,
linenos
} % \begin{pythoncode} pour insérer du code Python

\newminted{cpp}{
frame=lines,
framesep=2mm,
baselinestretch=1.2,
fontsize=\footnotesize,
linenos
} % \begin{cppcode} pour insérer du code C++

% Équation de Schrödinger dépendante et indépendante du temps (Quantique)
\newcommand{\indtemps}{\dv[2]{x}\psi(x) = \frac{2m}{\hbar^2}(V(x) - E)\psi(x)}
\newcommand{\deptemps}{i\hbar\pdv{}{t} \Psi(x,t) = \left[-\frac{\hbar^2}{2m}\pdv[2]{}{x} + V(x,t)\right]\Psi(x,t)}

% Relation de récurrence et équation des racines (PM3)
\newcommand{\rdr}{[(n+r)(n+r-1)+P_0(n+r)+Q_0]a_n+[P_1(n+r-1)+Q_1]a_{n-1}+[P_2(n+r-2)+Q_2]a_{n-2}+...=0}
\newcommand{\edr}{r^2+(P_0-1)r+Q_0=0}

% r cursifs en électromag
\newcommand{\rn}{% r cursif normal
\resizebox{!}{1.3ex}{%
    \begin{tikzpicture}[>=round cap]
        \clip (0.085em,-0.1ex) rectangle (0.61em,0.875ex);
        \draw [line width=.1ex, <->, rounded corners=0.13ex] (0.1em,0.1ex) .. controls (0.24em,0.4ex) .. (0.35em,0.8ex) .. controls (0.29em,0.725ex) .. (0.25em,0.6ex) .. controls (0.7em,0.8ex) and (0.08em,-0.4ex) .. (0.55em,0.25ex);
    \end{tikzpicture}%
}%
}
\newcommand{\rb}{% r cursif gras
\resizebox{!}{1.3ex}{%
    \begin{tikzpicture}[>=round cap]
        \clip (0.085em,-0.1ex) rectangle (0.61em,0.875ex);
        \draw [line width=.17ex, <->, rounded corners=0.13ex] (0.1em,0.1ex) .. controls (0.24em,0.4ex) .. (0.35em,0.8ex) .. controls (0.29em,0.725ex) .. (0.25em,0.6ex) .. controls (0.7em,0.8ex) and (0.08em,-0.4ex) .. (0.55em,0.25ex);
    \end{tikzpicture}%
}%
}
\newcommand{\rv}{\hat{\rb}} % r cursif vecteur unitaire

\newcommand{\bigo}[1]{\mathcal{O}(#1)} % Big-O notation
\renewcommand{\real}{\mathbb{R}} % Nombres réels
\newcommand{\ee}[1]{\times 10^{#1}} % Pour le x 10 à la ...

% Ajoute un espace avant les unités avec la commande \si déjà existante
\let\oldsi\si
\renewcommand{\si}[1]{\ \oldsi{#1}}

% Redéfini \frac pour mettre 1/x lorsque le premier argument est laissé vide ou est simplement omis
\let\oldfrac\frac
\let\frac\undefined
\DeclareDocumentCommand\crac{ s m g }
{
	\IfBooleanTF{#1}
	{\let\fractype\flatfrac}
	{\let\fractype\oldfrac}
	\IfNoValueTF{#3}
	{
		\fractype{1}{#2}
	}
	{
    \ifthenelse{\equal{#2}{}}
    {\fractype{1}{#3}}
    {\fractype{#2}{#3}}
	}
}
\let\frac\crac
\let\crac\undefined

% combinaisons
\newcommand*{\Comb}[2]{{}^{#1}C_{#2}}%

% Fonctions trigonométriques hyperboliques manquantes
% \DeclareMathOperator{\sech}{sech}
% \DeclareMathOperator{\csch}{csch}

% Fonctions trigonométriques hyperboliques inverses (ben oui, de base, y'en a aucune!)
% \DeclareMathOperator{\arcsec}{arcsec}
% \DeclareMathOperator{\arccot}{arccot}
% \DeclareMathOperator{\arccsc}{arccsc}
\DeclareMathOperator{\arcosh}{arcosh}
\DeclareMathOperator{\arsinh}{arsinh} % sup
\DeclareMathOperator{\artanh}{artanh}
\DeclareMathOperator{\arsech}{arsech}
\DeclareMathOperator{\arcsch}{arcsch}
\DeclareMathOperator{\arcoth}{arcoth} 


\DeclareMathAlphabet{\mathcalligra}{T1}{calligra}{m}{n}
\DeclareFontShape{T1}{calligra}{m}{n}{<->s*[2.2]callig15}{}
\newcommand{\scripty}[1]{\ensuremath{\mathcalligra{#1}}}

% anti-left-right parenthèses () -> \qty()
\makeatletter
\def\resetMathstrut@{%
  \setbox\z@\hbox{%
    \mathchardef\@tempa\mathcode`\[\relax
    \def\@tempb##1"##2##3{\the\textfont"##3\char"}%
    \expandafter\@tempb\meaning\@tempa \relax
  }%
  \ht\Mathstrutbox@\ht\z@ \dp\Mathstrutbox@\dp\z@}
\makeatother
\begingroup
  \catcode`(\active \xdef({\qty\string(}
\endgroup
\mathcode`(="8000

% Commandes loufoques
\newcommand{\teXmas}{\[\hat{\dot{\ddot{\dddot{\ddddot{\text{\LaTeX}}}}}}\]} % LaTeX de Noel
\newcommand{\sauce}[1]{\textbf{\Large{\textcolor{red}{#1}}}} % \sauce pour ajouter des notes TRÈS visibles dans le TeX

\renewcommand*{\thefootnote}{[\arabic{footnote}]} % Crochets indice
\newcommand{\transpose}[1]{#1^{\mathrm{T}}} % Exposant T pour les matrices transposées
\newcommand{\siuma}[1]{\quad\qty[\si{#1}]} % Unités SI entre crochets
\DeclareMathOperator{\taylor}{ST} % Opérateur ST pour les séries de Taylor
\newcommand{\tabref}[1]{\textsc{Tableau}~\ref{#1}}
\newcommand{\figref}[1]{\textsc{Figure}~\ref{#1}}
% \numberwithin{table}{section}
% \numberwithin{figure}{section}

% Opérations sur des matrices et matrices augmentées (utile en PM1 surtout)
\newenvironment{sysmatrix}[1]
 {\left[\begin{array}{@{}#1@{}}}
 {\end{array}\right]}
\newcommand{\ro}[1]{%
  \xrightarrow{\mathmakebox[\rowidth]{#1}}%
}
\newlength{\rowidth}% Row operation width
\AtBeginDocument{\setlength{\rowidth}{5em}}

% Template pour les opérations sur des matrices

% \begin{alignat*}{2}
% \begin{sysmatrix}{ccc|c}
% 1 &  1 & 1 & 1 \\
% 2 & -6 & 5 & 9 \\
% -3 &  \alpha & \beta & 10
% \end{sysmatrix}
% &\!\begin{aligned}
% &\ro{L_2\xrightarrow{}L_2-2L_1}\\
% &\ro{L_3\xrightarrow{}L_3+3L_1}
% \end{aligned}
% \begin{sysmatrix}{ccc|c}
% 1 &  1 & 1 & 1 \\
% 0 & -8 & 3 & 7 \\
% 0 &  \alpha+3 & \beta+3 & 13
% \end{sysmatrix}
% \\
% &\!\begin{aligned}
% &\ro{L_3\xrightarrow{}8L_3+\left(\alpha+3\right)L_2}
% \begin{sysmatrix}{ccc|c}
% 1 &  1 & 1 & 1 \\
% 0 & -8 & 3 & 7 \\
% 0 &  0 & 3\alpha +8\beta+33 & 7\alpha +125
% \end{sysmatrix}
% \end{aligned}
% \end{alignat*}


% -------------------------------
% Raccourcis Trait
% -------------------------------

% - Maths
\newcommand{\R}{\mathbb{R}} % Nombres réels
\newcommand{\e}{\mathrm{e}} % Beau e pour exponentielles

% - Format de texte
\def\tb{\textbf}
\def\mb{\mathbf}
\def\ti{\textit}
\def\ts{\textsuperscript}
\def\del{\partial}
\def\T{\mathrm{T}}
\def\tr{\mathrm{tr}}


% -------------------------------
% Format de texte
% -------------------------------

\setcounter{section}{0} % Titre et numérotage section
% \renewcommand\thesection{Problème \arabic{section}} % Texte avant le numéro de section

% \titlespacing*{\section}{0pt}{0.5em}{0em} % Marges titre section

% Numérotage section-équation (1.1)
\renewcommand{\theequation}{\arabic{section}.\arabic{equation}}
\makeatletter\@addtoreset{equation}{section}\makeatother
% Pour reset le numérotage d'équation avec \section*{} :
% \stepcounter{section}
% \section*{blablabla}

\def\arraystretch{1.25} % Hauteur tabular

\renewcommand\frenchtablename{\textsc{Tableau}} % "Tableau 1" au lieu de "Table 1"

\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,      
    urlcolor=blue,
}

